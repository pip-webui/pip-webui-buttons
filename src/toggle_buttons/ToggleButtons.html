<div class="pip-toggle-buttons layout-row {{$ctrl.class}}" 
     pip-selected="$ctrl.bufButtonIndex" 
     pip-enter-space-press="$ctrl.enterSpacePress($event)"
     ng-if="!$ctrl.pipMedia('xs') || $ctrl.onlyToggle">
    <md-button tabindex="-1" ng-repeat="button in $ctrl.buttons"
               ng-class="{'md-accent md-raised selected color-accent-bg' : $ctrl.highlightButton($index)}"
               ng-attr-style="{{ 'background-color:' + ($ctrl.highlightButton($index) ? button.backgroundColor : '') + '!important' }}"
               class="pip-selectable pip-chip-button flex" ng-click="$ctrl.buttonSelected($index, $event)"
               ng-disabled="button.disabled || $ctrl.disabled">
        {{button.name || button.title | translate}}
        <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span>
    </md-button>
</div>

<md-input-container class="md-block" ng-if="$ctrl.pipMedia('xs') && !$ctrl.onlyToggle">
    <md-select ng-model="$ctrl.currentButtonIndex" ng-disabled="$ctrl.disabled" aria-label="DROPDOWN" 
              md-on-close="$ctrl.buttonSelected($ctrl.currentButtonIndex)">
        <md-option ng-repeat="action in $ctrl.buttons" value="{{ ::$index }}">
            {{ (action.title || action.name) | translate }}
            <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span>
        </md-option>
    </md-select>
</md-input-container>
